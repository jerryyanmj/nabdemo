<!DOCTYPE html>
<html lang="en" ng-app="app">
 	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!--<link rel="shortcut icon" href="/cnep/imgs/timewarnercablelogo.ico">-->
		<title>CNEP: Accenture Customer Network Experience Platform</title>
		<link href="/cnep/css/bootstrap.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/starter-template.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/starter-template.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/nv.d3.css" rel='stylesheet' type="text/css">
		<link href="/cnep/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet" type="text/css">
		<script src="/cnep/jquery/dist/jquery.min.js" type="text/javascript"></script>
		<script src="/cnep/jquery/dist/jquery.js" type="text/javascript"></script>
		<script src="/cnep/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="/cnep/bootstrap/dist/js/bootstrap.js" type="text/javascript"></script>
		<script src="/cnep/bootstrap-form-helpers/dist/js/bootstrap-formhelpers.min.js" type="text/javascript"></script>    
		<script src="/cnep/bootstrap-form-helpers/dist/js/bootstrap-formhelpers.js" type="text/javascript"></script>
		<script src="/cnep/d3/d3.js" type="text/javascript"></script>
		<script src="/cnep/nvd3/nv.d3.js" type="text/javascript"></script>
		<script src="/cnep/datatables/media/js/jquery.dataTables.min.js" type="text/javascript"></script>
		<script src="/cnep/datatables/media/js/jquery.dataTables.js" type="text/javascript"></script>
		<script src="/cnep/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.js" type="text/javascript"></script>    
		<script src="/cnep/js/common/app.js" type="text/javascript"></script>

		<script>
			$( document ).ready(function() {

				$( '#usersTable' ).dataTable();

				$( '#user-btn' ).click(function(){
					$( '#ctr' ).show();
					$( '#user-btn' ).hide();
				}
			);

			});
		</script>

		<style>

			html, body {height:100%;padding-top:25px;position:relative;overflw-y:scroll;margin: 0;}
			div.dataTables_info {float: left !important;}
			.inp {
				width:150px; 
				display:inline;
			}
			th {text-align: center;}

			#usersTable_length label {float: left !important; padding-top: 20px;}
			#usersTable_filter label {float: right !important;}
			#usersTable_filter input {float: right !important;}

		</style>

	</head>

	<body>
		<% include ../partials/nav.html %>
		<div  style="padding-bottom: 10px;width: 1200px; margin: 0 auto;"class="container-title">
			<h2 style="margin-left: 14px;font-family:'Helvetica';padding-top: 14px; font-size: 22px;">Users</h2>
		</div>		
		<% include ../partials/error.html %>

		<div style="text-align: center;" class="container" id="container1" ng-view-light>    

			<table id="usersTable" class="table table-striped table-bordered" style="background-color: white; color: black;font-family:'Helvetica';">
				<thead>
					<tr>
						<th>ID</th>
						<th>USERNAME</th>
						<th>ROLE</th>        
						<th>EMAIL</th>
						<th>NAME</th>
						<th>SURNAME</th>
						<th>EDIT</th>
						<th>DELETE</th>
					</tr>
				</thead>
				<tbody>
					<% 
	
						if( session.users != null ) {
	
							for( var i = 0; i < session.users.length; i++ ) {
	
					%>
	
					<tr>
						<td><%= session.users[ i ].uid %></td>        
						<td><%= session.users[ i ].login %></td>
						<td><%= session.users[ i ].role %></td>          
						<td><%= session.users[ i ].email %></td>
						<td><%= session.users[ i ].firstname %></td>
						<td><%= session.users[ i ].lastname %></td>                    
						<td><a href="/cnep/edit/<%= session.users[ i ].uid %>">EDIT</a></td>                    
						<td><a href="/cnep/delete/<%= session.users[ i ].uid %>">DELETE</a></td>                    
					</tr>
	
					<%
	
							}
	
						}
	
					%>
	
				</tbody>
			</table>

			<div id="user-btn" style="float:left" class="a btn btn-primary">Add New User</div>
			<div id="ctr" style="display:none">
				<br>  
				<form method="POST" action="/create" accept-charset="UTF-8">
					<input id="username" type="text" name="username" placeholder="Username" class="form-control inp" autocomplete="off">
					<input id="password" type="password" name="password" placeholder="Password" class="form-control inp" autocomplete="off">
					<input id="email" type="text" name="email" placeholder="Email" class="form-control inp">
					<input id="name" type="text" name="name" placeholder="Name" class="form-control inp">
					<input id="surname" type="text" name="surname" placeholder="Surname" class="form-control inp">
					<select id="role" class="form-control inp" name="role" placeholder="Role">
						<option value="1">User</option>
						<option value="2">Admin</option>
					</select>
					<button type="submit" name="submit" class="btn btn-info btn-block" style="width:150px; display:inline">Create</button>
				</form>
			</div>

		</div>
		<br><br><br>

	</body>

</html>
