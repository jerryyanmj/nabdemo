<!DOCTYPE html>
<html lang="en" ng-app="app">
 	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!--<link rel="shortcut icon" href="/cnep/imgs/timewarnercablelogo.ico">-->
		<title>CNEP: Accenture Customer Network Experience Platform</title>
		<link href="/cnep/bootstrap/dist/css/bootstrap.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/starter-template.css" rel="stylesheet" type="text/css">
		<link href="/cnep/bootstrap/examples/starter-template/starter-template.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/nv.d3.css" rel='stylesheet' type="text/css">
		<link href="/cnep/bootstrap/dist/css/bootstrap.css" rel="stylesheet" type="text/css">
		<link href="/cnep/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet" type="text/css">
		<script src="/cnep/jquery/dist/jquery.min.js" type="text/javascript"></script>
    	<script src="/cnep/jquery/dist/jquery.js" type="text/javascript"></script>
    	<script src="/cnep/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    	<script src="/cnep/bootstrap/dist/js/bootstrap.js" type="text/javascript"></script>
    	<script src="/cnep/bootstrap-form-helpers/dist/js/bootstrap-formhelpers.min.js" type="text/javascript"></script>
		<script src="/cnep/bootstrap-form-helpers/dist/js/bootstrap-formhelpers.js" type="text/javascript"></script>
		<script src="/cnep/d3/d3.js" type="text/javascript"></script>
		<script src="/cnep/nvd3/nv.d3.js" type="text/javascript"></script>
		<script src="/cnep/datatables/media/js/jquery.dataTables.min.js" type="text/javascript"></script>
		<script src="/cnep/datatables/media/js/jquery.dataTables.js" type="text/javascript"></script>
		<script src="/cnep/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.js" type="text/javascript"></script>
		<script src="/cnep/js/reports/reportsjitter.js" type="text/javascript"></script>
		<script src="/cnep/js/common/app.js" type="text/javascript"></script>

		<style>
			html, body {height:100%;padding-top:25px;position:relative;overflw-y:scroll;margin: 0;}
			div.dataTables_info {float: left !important;}
			.inp {
				width:150px; 
				display:inline;
			}
			th {text-align: center;}
		</style>

	</head>

	<body>

		<% include ../partials/nav.html %>

		<div class="container">
			<div class="starter-template">
				<h1>Top 10 Worst Sources Jitter Report</h1>
			</div>
		</div>

		<div class="container" align="right">
			<a id="export-to-excel-button" href="/cnep/export-to-excel-top-worst-sources" class="btn btn-primary">Export to Excel</a>
		</div>
		<br>

		<div style="text-align: center;" class="container" id="container1" ng-view-light>    

			<table id="agentTopTenWorstSourcesJitterReportTable" class="table table-hover table-striped table-bordered">
				<thead>
					<tr>
						<th>Source</th>
						<th><%= session.lastSevenDates[ 0 ].day1 %></th>
						<th><%= session.lastSevenDates[ 0 ].day2 %></th>
						<th><%= session.lastSevenDates[ 0 ].day3 %></th>
						<th><%= session.lastSevenDates[ 0 ].day4 %></th>
						<th><%= session.lastSevenDates[ 0 ].day5 %></th>
						<th><%= session.lastSevenDates[ 0 ].day6 %></th>
						<th><%= session.lastSevenDates[ 0 ].day7 %></th>
					</tr>
				</thead>
				<tbody>

					<% 

						if( session.topTenWorstSourcesJitterReport != null ) {

							for( var i = 0; i < session.topTenWorstSourcesJitterReport.length; i++ ) { 

								var	background_color_for_day1 = "background-color:";
								var	background_color_for_day2 = "background-color:";
								var	background_color_for_day3 = "background-color:";
								var	background_color_for_day4 = "background-color:";
								var	background_color_for_day5 = "background-color:";
								var	background_color_for_day6 = "background-color:";
								var	background_color_for_day7 = "background-color:";

								if( session.topTenWorstSourcesJitterReport[ i ].day1 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day1 < 0.5 )
										background_color_for_day1 = "background-color: green";
									else
										background_color_for_day1 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day1 < 0 )
									background_color_for_day1 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day1 == null )
									session.topTenWorstSourcesJitterReport[ i ].day1 = '-';

								if( session.topTenWorstSourcesJitterReport[ i ].day2 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day2 < 0.5 )
										background_color_for_day2 = "background-color: green";
									else
										background_color_for_day2 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day2 < 0 )
									background_color_for_day2 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day2 == null )
									session.topTenWorstSourcesJitterReport[ i ].day2 = '-';

								if( session.topTenWorstSourcesJitterReport[ i ].day3 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day3 < 0.5 )
										background_color_for_day3 = "background-color: green";
									else
										background_color_for_day3 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day3 < 0 )
									background_color_for_day3 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day3 == null )
									session.topTenWorstSourcesJitterReport[ i ].day3 = '-';

								if( session.topTenWorstSourcesJitterReport[ i ].day4 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day4 < 0.5 )
										background_color_for_day4 = "background-color: green";
									else
										background_color_for_day4 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day4 < 0 )
									background_color_for_day4 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day4 == null )
									session.topTenWorstSourcesJitterReport[ i ].day4 = '-';

								if( session.topTenWorstSourcesJitterReport[ i ].day5 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day5 < 0.5 )
										background_color_for_day5 = "background-color: green";
									else
										background_color_for_day5 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day5 < 0 )
									background_color_for_day5 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day5 == null )
									session.topTenWorstSourcesJitterReport[ i ].day5 = '-';

								if( session.topTenWorstSourcesJitterReport[ i ].day6 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day6 < 0.5 )
										background_color_for_day6 = "background-color: green";
									else
										background_color_for_day6 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day6 < 0 )
									background_color_for_day6 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day6 == null )
									session.topTenWorstSourcesJitterReport[ i ].day6 = '-';

								if( session.topTenWorstSourcesJitterReport[ i ].day7 > 0 ) {
									if( session.topTenWorstSourcesJitterReport[ i ].day7 < 0.5 )
										background_color_for_day7 = "background-color: green";
									else
										background_color_for_day7 = "background-color: red";
								}
								else if( session.topTenWorstSourcesJitterReport[ i ].day7 < 0 )
									background_color_for_day7 = "background-color: green";
								else if( session.topTenWorstSourcesJitterReport[ i ].day7 == null )
									session.topTenWorstSourcesJitterReport[ i ].day7 = '-';

					%>

					<tr>

						<td><%= session.topTenWorstSourcesJitterReport[ i ].source_ip %></td>
						<td style='<%= background_color_for_day1 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day1 %></td>
						<td style='<%= background_color_for_day2 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day2 %></td>
						<td style='<%= background_color_for_day3 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day3 %></td>
						<td style='<%= background_color_for_day4 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day4 %></td>
						<td style='<%= background_color_for_day5 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day5 %></td>
						<td style='<%= background_color_for_day6 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day6 %></td>
						<td style='<%= background_color_for_day7 %>'><%= session.topTenWorstSourcesJitterReport[ i ].day7 %></td>

					</tr>

					<%

							}

						}

					%>

				</tbody>
			</table>

		</div>

		<div class="container">
			<div class="starter-template">
				<h1>Historical Jitter Report</h1>
				<p>Jitter - variation of latency; is used to express how much do individual latencies tend to differ from the mean.  Jitter rate shows tendency of latencies standard deviations, smaller the values â€“ better network performance. A network with constant latency has no jitter. High levels of jitter are more likely to occur on either slow or heavily congested links.</p>
			</div>
		</div>

		<div class="container" align="right">
			<a id="export-to-excel-button" href="/cnep/export-to-excel-jitter" class="btn btn-primary">Export to Excel</a>
		</div>
		<br>

		<div style="text-align: center;" class="container" id="container1" ng-view-light>    

			<table id="agentHistoricalJitterReportTable" class="table table-hover table-striped table-bordered">
				<thead>
					<tr>
						<th>Route</th>
						<th><%= session.lastSevenDates[ 0 ].day1 %></th>
						<th><%= session.lastSevenDates[ 0 ].day2 %></th>
						<th><%= session.lastSevenDates[ 0 ].day3 %></th>
						<th><%= session.lastSevenDates[ 0 ].day4 %></th>
						<th><%= session.lastSevenDates[ 0 ].day5 %></th>
						<th><%= session.lastSevenDates[ 0 ].day6 %></th>
						<th><%= session.lastSevenDates[ 0 ].day7 %></th>
					</tr>
				</thead>
				<tbody>

					<% 

						if( session.jitterReport != null ) {

							for( var i = 0; i < session.jitterReport.length; i++ ) { 

								var	background_color_for_day1 = "background-color:";
								var	background_color_for_day2 = "background-color:";
								var	background_color_for_day3 = "background-color:";
								var	background_color_for_day4 = "background-color:";
								var	background_color_for_day5 = "background-color:";
								var	background_color_for_day6 = "background-color:";
								var	background_color_for_day7 = "background-color:";

								if( session.jitterReport[ i ].day1 > 0 ) {
									if( session.jitterReport[ i ].day1 < 0.5 )
										background_color_for_day1 = "background-color: green";
									else
										background_color_for_day1 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day1 < 0 )
									background_color_for_day1 = "background-color: green";
								else if( session.jitterReport[ i ].day1 == null )
									session.jitterReport[ i ].day1 = '-';

								if( session.jitterReport[ i ].day2 > 0 ) {
									if( session.jitterReport[ i ].day2 < 0.5 )
										background_color_for_day2 = "background-color: green";
									else
										background_color_for_day2 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day2 < 0 )
									background_color_for_day2 = "background-color: green";
								else if( session.jitterReport[ i ].day2 == null )
									session.jitterReport[ i ].day2 = '-';

								if( session.jitterReport[ i ].day3 > 0 ) {
									if( session.jitterReport[ i ].day3 < 0.5 )
										background_color_for_day3 = "background-color: green";
									else
										background_color_for_day3 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day3 < 0 )
									background_color_for_day3 = "background-color: green";
								else if( session.jitterReport[ i ].day3 == null )
									session.jitterReport[ i ].day3 = '-';

								if( session.jitterReport[ i ].day4 > 0 ) {
									if( session.jitterReport[ i ].day4 < 0.5 )
										background_color_for_day4 = "background-color: green";
									else
										background_color_for_day4 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day4 < 0 )
									background_color_for_day4 = "background-color: green";
								else if( session.jitterReport[ i ].day4 == null )
									session.jitterReport[ i ].day4 = '-';

								if( session.jitterReport[ i ].day5 > 0 ) {
									if( session.jitterReport[ i ].day5 < 0.5 )
										background_color_for_day5 = "background-color: green";
									else
										background_color_for_day5 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day5 < 0 )
									background_color_for_day5 = "background-color: green";
								else if( session.jitterReport[ i ].day5 == null )
									session.jitterReport[ i ].day5 = '-';

								if( session.jitterReport[ i ].day6 > 0 ) {
									if( session.jitterReport[ i ].day6 < 0.5 )
										background_color_for_day6 = "background-color: green";
									else
										background_color_for_day6 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day6 < 0 )
									background_color_for_day6 = "background-color: green";
								else if( session.jitterReport[ i ].day6 == null )
									session.jitterReport[ i ].day6 = '-';

								if( session.jitterReport[ i ].day7 > 0 ) {
									if( session.jitterReport[ i ].day7 < 0.5 )
										background_color_for_day7 = "background-color: green";
									else
										background_color_for_day7 = "background-color: red";
								}
								else if( session.jitterReport[ i ].day7 < 0 )
									background_color_for_day7 = "background-color: green";
								else if( session.jitterReport[ i ].day7 == null )
									session.jitterReport[ i ].day7 = '-';

					%>

					<tr>

						<td><%= session.jitterReport[ i ].route %></td>
						<td style='<%= background_color_for_day1 %>'><%= session.jitterReport[ i ].day1 %></td>
						<td style='<%= background_color_for_day2 %>'><%= session.jitterReport[ i ].day2 %></td>
						<td style='<%= background_color_for_day3 %>'><%= session.jitterReport[ i ].day3 %></td>
						<td style='<%= background_color_for_day4 %>'><%= session.jitterReport[ i ].day4 %></td>
						<td style='<%= background_color_for_day5 %>'><%= session.jitterReport[ i ].day5 %></td>
						<td style='<%= background_color_for_day6 %>'><%= session.jitterReport[ i ].day6 %></td>
						<td style='<%= background_color_for_day7 %>'><%= session.jitterReport[ i ].day7 %></td>

					</tr>

					<%

							}

						}

					%>

				</tbody>
			</table>

		</div>

	</body>

</html>
