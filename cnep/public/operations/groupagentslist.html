<!DOCTYPE html>

<html lang="en" ng-app="app">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>CNEP: Accenture Customer Network Experience Platform</title>
		<!--<link rel="shortcut icon" href="/cnep/imgs/timewarnercablelogo.ico">-->
		<link href="/cnep/css/bootstrap.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/starter-template.css" rel="stylesheet" type="text/css">
		<link href="/cnep/css/nv.d3.css" rel="stylesheet" type="text/css">
		<link href="/cnep/bootstrap/examples/starter-template/starter-template.css" rel="stylesheet" type="text/css">
		<link href="/cnep/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.css" rel="stylesheet" type="text/css">
		<link href="/cnep/bootstrap-form-helpers/dist/css/bootstrap-formhelpers.min.css" rel="stylesheet" type="text/css">
		<script src="/cnep/jquery/dist/jquery.min.js" type="text/javascript"></script>
    	<script src="/cnep/jquery/dist/jquery.js" type="text/javascript"></script>
    	<script src="/cnep/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    	<script src="/cnep/bootstrap/dist/js/bootstrap.js" type="text/javascript"></script>    
		<script src="/cnep/bootstrap-form-helpers/dist/js/bootstrap-formhelpers.min.js" type="text/javascript"></script>
		<script src="/cnep/bootstrap-form-helpers/dist/js/bootstrap-formhelpers.js" type="text/javascript"></script>
		<script src="/cnep/d3/d3.js" type="text/javascript"></script>
		<script src="/cnep/nvd3/nv.d3.js" type="text/javascript"></script>
		<script src="/cnep/datatables/media/js/jquery.dataTables.min.js" type="text/javascript"></script>
		<script src="/cnep/datatables/media/js/jquery.dataTables.js" type="text/javascript"></script>
		<script src="/cnep/datatables-plugins/integration/bootstrap/3/dataTables.bootstrap.js" type="text/javascript"></script>    
		<script src="/cnep/js/common/app.js" type="text/javascript"></script>

		<script>
	
			$( document ).ready(

				function() {
	
					$( '#groupAgentsListTable' ).dataTable();
	
					$( "#predefined_commands" ).change(
	
						function() {
	
							var	choosen_command_text = $( this ).val()
	
							$( '#command' ).val( choosen_command_text );
	
							return;
						}
					);
	
					$( '#add-new-command-for-group-button' ).click(
	
						function() {
	
							$( '#add-new-command-for-group-form' ).show();
							$( '#add-new-command-for-group-button' ).hide();
	
							return;
						}
					);

					return;
				}
			);
	
		</script>

		<style>

			html, body {height:100%;padding-top:25px;position:relative;overflw-y:scroll;margin: 0;}

			div.dataTables_info {float: left !important;}

			.inp {
				width:150px; 
				display:inline;
			}

			.inp3 {
				width:90px; 
				display:inline;
			}

			th {text-align: center;}

			.predefined_commands {

				float: left;
				margin-top: 10px;

			}

			.bfh-datepicker-calendar { color: black !important; }
			.bfh-datepicker-toggle > .form-control { color: white !important; }
			.bfh-timepicker-toggle > .form-control { color: white !important; }
			.bfh-datepicker-toggle > .input-group-addon { color: black !important; }
			.bfh-timepicker-toggle > .input-group-addon { color: black !important; }

			#groupAgentsListTable_length label {float: left !important; padding-top: 20px;}
			#groupAgentsListTable_filter label {float: right !important;}
			#groupAgentsListTable_filter input {float: right !important;}

		</style>

	</head>

	<body>

		<% include ../partials/nav.html %>
		<% include ../partials/error.html %>
		<div class="container">
			<div class="starter-template">
				<h1>Agents for Group: <%= session.agentgroup.name %></h1>
			</div>
		</div>

		<div style="text-align: center;" class="container" id="container1" ng-view-light>    

			<table id="groupAgentsListTable" class="table table-striped table-bordered" style="background-color: white; color: black;font-family:'Helvetica';">
				<thead>
					<tr>
						<th>ID</th>
						<th>Hostname</th>
						<th>IP</th>        
						<th>Mac Address</th>
						<th>Serial Number</th>
						<th>OS</th>
						<th>City</th>
						<th>State</th>
					</tr>
				</thead>
				<tbody>

				<% for( var i = 0; i < session.groupagents.length; i++ ) { %>

					<tr>

						<td><a href="/cnep/agent/<%= session.groupagents[ i ].aid %>"><%= session.groupagents[ i ].aid %></a></td>        
						<td><%= session.groupagents[ i ].hostname %></td>
						<td><%= session.groupagents[ i ].address %></td>          
						<td><%= session.groupagents[ i ].mac_address %></td>
						<td><%= session.groupagents[ i ].serialnumber %></td>
						<td><%= session.groupagents[ i ].os %></td>                    
						<td><%= session.groupagents[ i ].city %></td>
						<td><%= session.groupagents[ i ].state %></td>

					</tr>

				<% } %>

				</tbody>
			</table>

			<div id="add-new-command-for-group-button" style="float:left" class="a btn btn-primary">
				Add New Command for Group
			</div>

			<div id="add-new-command-for-group-form" class="row well"  style="display:none">

				<div class="col-md-12">

					<form class="form-inline" action="/agentgroup/add_command" method="POST">

						<div id="command-tools" class="row">

							<div class="col-md-3" align="left">

								<input id="command" name="command" placeholder="command text" value="" class="form-control" />
								<input id="cid" name="cid" type="hidden" value="<%= session.agentgroup.cid %>" />
	
								<select id="predefined_commands" class="predefined_commands">
									<option value="">Choose the command</option>
									<option value="mtr -n -c 5 --report ">MTR</option>
									<option value="tcpdump-batch eth0">Tcpdump</option>
									<option value="speedtest-cli">Speedtest</option>
								</select>

							</div>

							<div class="col-md-2" style="width:350px"> 
								<input id="new-job-repeat" name="quantity" placeholder="quantity" class="form-control inp3" />
								<input id="interval" placeholder="frequency" name="frequency"  class="form-control inp3" />
								<input id="new-job-priority" placeholder="priority" name="priority" class="form-control inp3" />
							</div>

							<div class="col-md-2">
								<div class="bfh-datepicker"  data-format="y-m-d" data-name="datestart">
									<input id="start-datepickers" name="startdate" data-name="startdate" type="text" class="datepicker">
								</div>
								<div data-name="timestart" class="bfh-timepicker" name="startime">
									<input id="start-timepickers" name="starttime" type="text" class="timepicker">
								</div>
							</div>

							<div class="col-md-2">
								<div class="bfh-datepicker"  data-format="y-m-d" data-name="dateend">
									<input id="end-datepickers" name="enddate" type="text" data-name="enddate" class="datepicker">
								</div>
								<div data-name="timeend" class="bfh-timepicker" name="endtime">
									<input id="end-timepickers" name="endtime" type="text" class="timepicker">
								</div>
							</div>

							<div id="form-btn-inline" class="col-md-1">
								<button type="submit" name="submit" class="btn btn-info btn-block" style="width:100px; display: inline">Schedule</button>
							</div>

						</div>

						<div class="row">
							<div id="variables" style="text-align:center" class="col-md-12"></div>
						</div>

						<div class="row">
							<div id="buttons" class="col-md-12"></div>
						</div>

					</form>

				</div>

			</div>

			<div class="row">
				<div class="col-md-12"></div>
			</div>
	
			<br><br><br>    
	
		</div>

	</body>

</html>
