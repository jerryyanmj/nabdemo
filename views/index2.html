<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <title id="page-title">ADAP | Dashboard</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />

    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    <link href="/assets/css/fonts.css" rel="stylesheet" />
    <link href="/assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
    <link href="/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="/assets/plugins/intro.js-1.0.0/introjs.css" rel="stylesheet" />
    <link href="/assets/css/animate.css" rel="stylesheet" />
    <link href="/assets/css/style.css" rel="stylesheet" />
    <link href="/assets/css/style-responsive.css" rel="stylesheet" />
    <link href="/assets/css/default.css" rel="stylesheet" />
    <!-- ================== END BASE CSS STYLE ================== -->

    <!-- ================== BEGIN BASE JS ================== -->
    <script src="/assets/plugins/pace/pace.min.js"></script>
    <!-- ================== END BASE JS ================== -->
</head>
<body>
    <!-- begin #page-loader -->
    <div id="page-loader" class="fade in"><span class="spinner"></span></div>
    <!-- end #page-loader -->

    <!-- begin #page-container -->
    <div id="page-container" class="fade page-sidebar-minified page-header-fixed gradient-enabled">
        <!-- begin #header -->
        <% include includes/header.html %>
        <!-- end #header -->

        <!-- begin #sidebar -->
        <% include includes/sidebar.html %>

        <div class="sidebar-bg"></div>
        <!-- end #sidebar -->

        <!-- begin #content -->
        <div id="content" class="content">
            <!-- begin breadcrumb -->
            <ol class="breadcrumb pull-right">
                <li><a href="javascript:;">Home</a></li>
                <li class="active">Data Page</li>
            </ol>
            <!-- end breadcrumb -->
            <!-- begin page-header -->
            <h1 class="page-header">Data Page <small></small></h1>
            <!-- end page-header -->

            <div class="panel panel-inverse">
                <div class="panel-heading">
                    <div class="panel-heading-btn">
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-expand"><i class="fa fa-expand"></i></a>
                        <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-minus"></i></a>
                    </div>
                    <h4 class="panel-title">Historical Data</h4>
                </div>
                <div class="panel-body ">
                    <div id="stockchartdiv-0" class="chart-reset" style="width: 100%; height: 435px;"></div>

                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="panel panel-inverse">
                        <div class="panel-heading">
                            <div class="panel-heading-btn">
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-expand"><i class="fa fa-expand"></i></a>
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-minus"></i></a>
                            </div>
                            <h4 class="panel-title">Speed Test Results</h4>
                        </div>
                        <div class="panel-body">
                            <div id="container1" style="min-width: 420px; max-width: 600px; height: 400px; margin: 0 auto"></div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="panel panel-inverse">
                        <div class="panel-heading">
                            <div class="panel-heading-btn">
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-expand"><i class="fa fa-expand"></i></a>
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-minus"></i></a>
                            </div>
                            <h4 class="panel-title">Startup Time</h4>
                        </div>
                        <div class="panel-body">
                            <div id="container2" style="min-width: 420px; max-width: 600px; height: 400px; margin: 0 auto"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="panel panel-inverse">
                        <div class="panel-heading">
                            <div class="panel-heading-btn">
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-expand"><i class="fa fa-expand"></i></a>
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-minus"></i></a>
                            </div>
                            <h4 class="panel-title">Service Errors</h4>
                        </div>
                        <div class="panel-body">
                            <div id="container3" style="min-width: 420px; max-width: 600px; height: 400px; margin: 0 auto"></div>

                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="panel panel-inverse">
                        <div class="panel-heading">
                            <div class="panel-heading-btn">
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-success" data-click="panel-expand"><i class="fa fa-expand"></i></a>
                                <a href="javascript:;" class="btn btn-xs btn-icon btn-circle btn-danger" data-click="panel-remove"><i class="fa fa-minus"></i></a>
                            </div>
                            <h4 class="panel-title">Edge Nodes Statistics</h4>
                        </div>
                        <div class="panel-body">
                            <div id="container4" style="min-width: 420px; max-width: 600px; height: 400px; margin: 0 auto"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- begin scroll to top btn -->
        <a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
        <!-- end scroll to top btn -->
    </div>
    <!-- end page container -->

    <!-- ================== BEGIN BASE JS ================== -->
    <script src="/assets/plugins/jquery/jquery-1.9.1.min.js"></script>
    <script src="/assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
    <script src="/assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
    <script src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!--[if lt IE 9]>
        <script src="assets/crossbrowserjs/html5shiv.js"></script>
        <script src="assets/crossbrowserjs/respond.min.js"></script>
        <script src="assets/crossbrowserjs/excanvas.min.js"></script>
    <![endif]-->
    <script src="/assets/plugins/jquery-hashchange/jquery.hashchange.min.js"></script>
    <script src="/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="/assets/plugins/jquery-cookie/jquery.cookie.js"></script>
    <script src="/assets/plugins/intro.js-1.0.0/intro.js"></script>
    <!-- ================== END BASE JS ================== -->

    <!-- ================== BEGIN PAGE LEVEL JS ================== -->
    <script src="/assets/js/apps.js"></script>
    <!-- ================== END PAGE LEVEL JS ================== -->

    <script>
        $(document).ready(function() {
            App.init('index');
        });
    </script>

    <script src="//code.highcharts.com/highcharts.js"></script>
    <script src="//code.highcharts.com/highcharts-more.js"></script>
    <script src="//code.highcharts.com/modules/data.js"></script>
    <script src="//code.highcharts.com/modules/exporting.js"></script>
    <script src="//code.highcharts.com/highcharts-3d.js"></script>

    <script type='text/javascript'>//<![CDATA[

    $(function () {

        // Parse the data from an inline table using the Highcharts Data plugin
        $('#container1').highcharts({
            data: {
                table: 'freq',
                startRow: 1,
                endRow: 17,
                endColumn: 7
            },

            chart: {
                polar: true,
                type: 'column'
            },

            title: {
                text: 'Speed Test Results'
            },

            subtitle: {
                text: 'Source: Accenture'
            },

            pane: {
                size: '85%'
            },

            legend: {
                align: 'right',
                verticalAlign: 'top',
                y: 100,
                layout: 'vertical'
            },

            xAxis: {
                tickmarkPlacement: 'on'
            },

            yAxis: {
                min: 0,
                endOnTick: false,
                showLastLabel: true,
                title: {
                    text: 'Frequency (%)'
                },
                labels: {
                    formatter: function () {
                        return this.value + '%';
                    }
                },
                reversedStacks: false
            },

            tooltip: {
                valueSuffix: '%'
            },

            plotOptions: {
                series: {
                    stacking: 'normal',
                    shadow: false,
                    groupPadding: 0,
                    pointPlacement: 'on'
                }
            }
        });




        $('#container2').highcharts({
            data: {
                table: 'startup',
                startRow: 1,
                endRow: 17,
                endColumn: 6
            },

            chart: {
                polar: true,
                type: 'column'
            },

            title: {
                text: 'Startup Time'
            },

            subtitle: {
                text: 'Source: Accenture'
            },

            pane: {
                size: '85%'
            },

            legend: {
                align: 'right',
                verticalAlign: 'top',
                y: 100,
                layout: 'vertical'
            },

            xAxis: {
                tickmarkPlacement: 'on'
            },

            yAxis: {
                min: 0,
                endOnTick: false,
                showLastLabel: true,
                title: {
                    text: 'Frequency (%)'
                },
                labels: {
                    formatter: function () {
                        return this.value + '%';
                    }
                },
                reversedStacks: false
            },

            tooltip: {
                valueSuffix: '%'
            },

            plotOptions: {
                series: {
                    stacking: 'normal',
                    shadow: false,
                    groupPadding: 0,
                    pointPlacement: 'on'
                }
            }
        });

        $('#container3').highcharts({

               chart: {
                   type: 'column',
                   options3d: {
                       enabled: true,
                       alpha: 15,
                       beta: 15,
                       viewDistance: 25,
                       depth: 40
                   },
                   marginTop: 80,
                   marginRight: 40
               },

               title: {
                   text: 'Service Errors'
               },

               xAxis: {
                   categories: ['31/03', '1/04', '2/04', '3/04', '4/04']
               },

               yAxis: {
                   allowDecimals: false,
                   min: 0,
                   title: {
                       text: 'Number of Errors'
                   }
               },

               tooltip: {
                   headerFormat: '<b>{point.key}</b><br>',
                   pointFormat: '<span style="color:{series.color}">\u25CF</span> {series.name}: {point.y} / {point.stackTotal}'
               },

               plotOptions: {
                   column: {
                       stacking: 'normal',
                       depth: 40
                   }
               },

               series: [{
                   name: '403 Error',
                   data: [2, 5, 6, 2, 1],
                   stack: 'Video Error'
               }, {
                   name: '404 Error',
                   data: [5, 3, 4, 7, 2],
                   stack: 'Video Error'
               }, {
                   name: '502 Error',
                   data: [3, 4, 4, 2, 5],
                   stack: 'Server Error'
               }, {
                   name: '503 Error',
                   data: [3, 0, 4, 4, 3],
                   stack: 'Server Error'
               }]
           });


           // Give the points a 3D feel by adding a radial gradient
            Highcharts.getOptions().colors = $.map(Highcharts.getOptions().colors, function (color) {
                return {
                    radialGradient: {
                        cx: 0.4,
                        cy: 0.3,
                        r: 0.5
                    },
                    stops: [
                        [0, color],
                        [1, Highcharts.Color(color).brighten(-0.2).get('rgb')]
                    ]
                };
            });
            var chartVal = function(a) {
                if (a===0) {
                    return parseInt((Math.random()*60+10).toFixed(0));
                }
                if (a===1) {
                    return parseFloat((Math.random()*50+45).toFixed(4));
                }
                if (a===2) {
                    return parseFloat((Math.random()*110+10).toFixed(4));
                }
            }

            var edgeNodes = ['ac1.tw2uny2d1.cdn',
                             'ac1.tw2uny2d2.cdn',
                             'ac1.tw2uny2d3.cdn',
                             'ac1.tw2uny1d2.cdn',
                             'ac1.tw2uny1d2.cdn',
                             'ac1.tw2uny1d2.cdn',
                             'ac1.tw2txs2d1.cdn',
                             'ac1.tw2txs2d2.cdn',
                             'ac1.tw2txs2d3.cdn',
                             'ac1.tw2txs1d2.cdn',
                             'ac1.tw2txs1d2.cdn',
                             'ac1.tw2txs1d2.cdn',
                             'ac1.tw2soc2d1.cdn',
                             'ac1.tw2soc2d2.cdn',
                             'ac1.tw2soc2d3.cdn',
                             'ac1.tw2soc1d2.cdn',
                             'ac1.tw2soc1d2.cdn',
                             'ac1.tw2soc1d2.cdn',
                             'ac1.tw2nyc2d1.cdn',
                             'ac1.tw2nyc2d2.cdn',
                             'ac1.tw2nyc2d3.cdn',
                             'ac1.tw2nyc1d2.cdn',
                             'ac1.tw2nyc1d2.cdn',
                             'ac1.tw2nyc1d2.cdn',
                             'ac1.tw2mdw2d1.cdn',
                             'ac1.tw2mdw2d2.cdn',
                             'ac1.tw2mdw2d3.cdn',
                             'ac1.tw2mdw1d2.cdn',
                             'ac1.tw2mdw1d2.cdn',
                             'ac1.tw2mdw1d2.cdn',
                             'ac1.tw2car2d1.cdn',
                             'ac1.tw2car2d2.cdn',
                             'ac1.tw2car2d3.cdn',
                             'ac1.tw2car1d2.cdn',
                             'ac1.tw2car1d2.cdn',
                             'ac1.tw2car1d2.cdn',
                             'ac1.bh1flr2d3.cdn',
                             'ac1.bh1flr1d2.cdn',
                             'ac1.bh1flr1d2.cdn',
                             'ac1.bh1flr1d2.cdn']

            // Set up the chart
            var chart = new Highcharts.Chart({
                chart: {
                    renderTo: 'container4',
                    margin: 100,
                    type: 'scatter',
                    options3d: {
                        enabled: true,
                        alpha: 10,
                        beta: 30,
                        depth: 250,
                        viewDistance: 5,

                        frame: {
                            bottom: { size: 1, color: 'rgba(0,0,0,0.02)' },
                            back: { size: 1, color: 'rgba(0,0,0,0.04)' },
                            side: { size: 1, color: 'rgba(0,0,0,0.06)' }
                        }
                    }
                },
                title: {
                    text: 'Edge Nodes Statistics'
                },
                subtitle: {
                    text: 'Deviation from Normal Bandwidth (Draggable)'
                },
                plotOptions: {
                    scatter: {
                        width: 10,
                        height: 10,
                        depth: 10
                    }
                },
                yAxis: {
                    min: 40,
                    max: 100,
                    title: 'null'
                },
                xAxis: {
                    // min: 10,
                    max: 70,
                    gridLineWidth: 1
                },
                zAxis: {
                    min: 0,
                    max: 140
                },
                legend: {
                    enabled: false
                },
                tooltip: {

                    formatter: function() {
                    
                        return '<b>' + edgeNodes[this.point.index] + '</b><br>Video asset count: <b>' + this.x + '</b> <br>CDN Efficiency: <b>' + this.y + '</b><br>Gb sent: <b>' + this.point.z + '</b>'
                    
                    }, 
                    
                    headerFormat: '<b>{point.key}</b><br>',
                    
                    pointFormat: '<span style="color:{series.color}">\u25CF</span> {series.name}: {point.y} / {point.stackTotal}'
                    
                    },


                series: [{
                    name: 'Metrics',
                    colorByPoint: true,
                    data: [[chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)], 
                           [chartVal(0), chartVal(1), chartVal(2)],
                           [chartVal(0), chartVal(1), chartVal(2)]]
                }]
            });


            // Add mouse events for rotation
            $(chart.container).bind('mousedown.hc touchstart.hc', function (e) {
                e = chart.pointer.normalize(e);

                var posX = e.pageX,
                    posY = e.pageY,
                    alpha = chart.options.chart.options3d.alpha,
                    beta = chart.options.chart.options3d.beta,
                    newAlpha,
                    newBeta,
                    sensitivity = 5; // lower is more sensitive

                $(document).bind({
                    'mousemove.hc touchdrag.hc': function (e) {
                        // Run beta
                        newBeta = beta + (posX - e.pageX) / sensitivity;
                        newBeta = Math.min(100, Math.max(-100, newBeta));
                        chart.options.chart.options3d.beta = newBeta;

                        // Run alpha
                        newAlpha = alpha + (e.pageY - posY) / sensitivity;
                        newAlpha = Math.min(100, Math.max(-100, newAlpha));
                        chart.options.chart.options3d.alpha = newAlpha;

                        chart.redraw(false);
                    },
                    'mouseup touchend': function () {
                        $(document).unbind('.hc');
                    }
                });
            });



    });
    //]]>

    </script>



    <div style="display:none">
        <!-- Source: http://or.water.usgs.gov/cgi-bin/grapher/graph_windrose.pl -->
        <table id="freq" border="0" cellspacing="0" cellpadding="0">
            <tr nowrap bgcolor="#CCCCFF">
                <th colspan="9" class="hdr">Table of Speed (percent)</th>
            </tr>
            <tr nowrap bgcolor="#CCCCFF">
                <th class="freq">Direction</th>
                <th class="freq">&lt; 0.5 Mbps</th>
                <th class="freq">0.5-2 Mbps</th>
                <th class="freq">2-4 Mbps</th>
                <th class="freq">4-6 Mbps</th>
                <th class="freq">6-8 Mbps</th>
                <th class="freq">8-10 Mbps</th>
                <th class="freq">&gt; 10 Mbps</th>
                <th class="freq">Total</th>
            </tr>
            <tr nowrap>
                <td class="dir">NY</td>
                <td class="data">1.81</td>
                <td class="data">1.78</td>
                <td class="data">0.16</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">3.75</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">TX</td>
                <td class="data">0.62</td>
                <td class="data">1.09</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">1.71</td>
            </tr>
            <tr nowrap>
                <td class="dir">OH</td>
                <td class="data">0.82</td>
                <td class="data">0.82</td>
                <td class="data">0.07</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">1.71</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">UT</td>
                <td class="data">0.59</td>
                <td class="data">1.22</td>
                <td class="data">0.07</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">1.88</td>
            </tr>
            <tr nowrap>
                <td class="dir">WA</td>
                <td class="data">0.62</td>
                <td class="data">2.20</td>
                <td class="data">0.49</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">3.32</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">MT</td>
                <td class="data">1.22</td>
                <td class="data">2.01</td>
                <td class="data">1.55</td>
                <td class="data">0.30</td>
                <td class="data">0.13</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">5.20</td>
            </tr>
            <tr nowrap>
                <td class="dir">KY</td>
                <td class="data">1.61</td>
                <td class="data">3.06</td>
                <td class="data">2.37</td>
                <td class="data">2.14</td>
                <td class="data">1.74</td>
                <td class="data">0.39</td>
                <td class="data">0.13</td>
                <td class="data">11.45</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">HI</td>
                <td class="data">2.04</td>
                <td class="data">3.42</td>
                <td class="data">1.97</td>
                <td class="data">0.86</td>
                <td class="data">0.53</td>
                <td class="data">0.49</td>
                <td class="data">0.00</td>
                <td class="data">9.31</td>
            </tr>
            <tr nowrap>
                <td class="dir">DC</td>
                <td class="data">2.66</td>
                <td class="data">4.74</td>
                <td class="data">0.43</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">7.83</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">AL</td>
                <td class="data">2.96</td>
                <td class="data">4.14</td>
                <td class="data">0.26</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">7.37</td>
            </tr>
            <tr nowrap>
                <td class="dir">FL</td>
                <td class="data">2.53</td>
                <td class="data">4.01</td>
                <td class="data">1.22</td>
                <td class="data">0.49</td>
                <td class="data">0.13</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">8.39</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">NE</td>
                <td class="data">1.97</td>
                <td class="data">2.66</td>
                <td class="data">1.97</td>
                <td class="data">0.79</td>
                <td class="data">0.30</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">7.70</td>
            </tr>
            <tr nowrap>
                <td class="dir">SD</td>
                <td class="data">1.64</td>
                <td class="data">1.71</td>
                <td class="data">0.92</td>
                <td class="data">1.45</td>
                <td class="data">0.26</td>
                <td class="data">0.10</td>
                <td class="data">0.00</td>
                <td class="data">6.09</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">PA</td>
                <td class="data">1.32</td>
                <td class="data">2.40</td>
                <td class="data">0.99</td>
                <td class="data">1.61</td>
                <td class="data">0.33</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">6.64</td>
            </tr>
            <tr nowrap>
                <td class="dir">OR</td>
                <td class="data">1.58</td>
                <td class="data">4.28</td>
                <td class="data">1.28</td>
                <td class="data">0.76</td>
                <td class="data">0.66</td>
                <td class="data">0.69</td>
                <td class="data">0.03</td>
                <td class="data">9.28</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">NH</td>
                <td class="data">1.51</td>
                <td class="data">5.00</td>
                <td class="data">1.32</td>
                <td class="data">0.13</td>
                <td class="data">0.23</td>
                <td class="data">0.13</td>
                <td class="data">0.07</td>
                <td class="data">8.39</td>
            </tr>
            <tr nowrap>
                <td class="totals">Total</td>
                <td class="totals">25.53</td>
                <td class="totals">44.54</td>
                <td class="totals">15.07</td>
                <td class="totals">8.52</td>
                <td class="totals">4.31</td>
                <td class="totals">1.81</td>
                <td class="totals">0.23</td>
                <td class="totals">&nbsp;</td>
            </tr>
        </table>
    </div>

    <div style="display:none">
        <!-- Source: http://or.water.usgs.gov/cgi-bin/grapher/graph_windrose.pl -->
        <table id="startup" border="0" cellspacing="0" cellpadding="0">
            <tr nowrap bgcolor="#CCCCFF">
                <th colspan="9" class="hdr">Table of Speed (percent)</th>
            </tr>
            <tr nowrap bgcolor="#CCCCFF">
                <th class="startup">Direction</th>
                <th class="startup">&lt; 0.25 Seconds</th>
                <th class="startup">0.25 - 0.50 Seconds</th>
                <th class="startup">0.50 - 0.75 Seconds</th>
                <th class="startup">0.75 - 1.00 Seconds</th>
                <th class="startup">1.00 - 1.25 Seconds</th>
                <th class="startup">&gt; 1.25 Seconds</th>
                <th class="startup">Total</th>
            </tr>
            <tr nowrap>
                <td class="dir">NY</td>
                <td class="data">0.59</td>
                <td class="data">1.22</td>
                <td class="data">0.07</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">1.88</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">TX</td>
                <td class="data">1.81</td>
                <td class="data">1.78</td>
                <td class="data">0.16</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">3.75</td>
            </tr>
            <tr nowrap>
                <td class="dir">OH</td>
                <td class="data">1.22</td>
                <td class="data">2.01</td>
                <td class="data">1.55</td>
                <td class="data">0.30</td>
                <td class="data">0.13</td>
                <td class="data">0.00</td>
                <td class="data">5.20</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">UT</td>
                <td class="data">1.61</td>
                <td class="data">3.06</td>
                <td class="data">2.37</td>
                <td class="data">2.14</td>
                <td class="data">1.74</td>
                <td class="data">0.39</td>
                <td class="data">11.45</td>
            </tr>
            <tr nowrap>
                <td class="dir">WA</td>
                <td class="data">0.62</td>
                <td class="data">2.20</td>
                <td class="data">0.49</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">3.32</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">MT</td>
                <td class="data">1.58</td>
                <td class="data">4.28</td>
                <td class="data">1.28</td>
                <td class="data">0.76</td>
                <td class="data">0.66</td>
                <td class="data">0.69</td>
                <td class="data">9.28</td>
            </tr>
            <tr nowrap>
                <td class="dir">KY</td>
                <td class="data">2.66</td>
                <td class="data">4.74</td>
                <td class="data">0.43</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">7.83</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">HI</td>
                <td class="data">0.82</td>
                <td class="data">0.82</td>
                <td class="data">0.07</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">1.71</td>
            </tr>
            <tr nowrap>
                <td class="dir">DC</td>
                <td class="data">0.62</td>
                <td class="data">1.09</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">1.71</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">AL</td>
                <td class="data">2.04</td>
                <td class="data">3.42</td>
                <td class="data">1.97</td>
                <td class="data">0.86</td>
                <td class="data">0.53</td>
                <td class="data">0.49</td>
                <td class="data">9.31</td>
            </tr>
            <tr nowrap>
                <td class="dir">FL</td>
                <td class="data">2.53</td>
                <td class="data">4.01</td>
                <td class="data">1.22</td>
                <td class="data">0.49</td>
                <td class="data">0.13</td>
                <td class="data">0.00</td>
                <td class="data">8.39</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">NE</td>
                <td class="data">2.96</td>
                <td class="data">4.14</td>
                <td class="data">0.26</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">0.00</td>
                <td class="data">7.37</td>
            </tr>
            <tr nowrap>
                <td class="dir">SD</td>
                <td class="data">1.64</td>
                <td class="data">1.71</td>
                <td class="data">0.92</td>
                <td class="data">1.45</td>
                <td class="data">0.26</td>
                <td class="data">0.10</td>
                <td class="data">6.09</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">PA</td>
                <td class="data">1.32</td>
                <td class="data">2.40</td>
                <td class="data">0.99</td>
                <td class="data">1.61</td>
                <td class="data">0.33</td>
                <td class="data">0.00</td>
                <td class="data">6.64</td>
            </tr>
            <tr nowrap>
                <td class="dir">OR</td>
                <td class="data">1.97</td>
                <td class="data">2.66</td>
                <td class="data">1.97</td>
                <td class="data">0.79</td>
                <td class="data">0.30</td>
                <td class="data">0.00</td>
                <td class="data">7.70</td>
            </tr>
            <tr nowrap bgcolor="#DDDDDD">
                <td class="dir">NH</td>
                <td class="data">1.51</td>
                <td class="data">5.00</td>
                <td class="data">1.32</td>
                <td class="data">0.13</td>
                <td class="data">0.23</td>
                <td class="data">0.13</td>
                <td class="data">8.39</td>
            </tr>
            <tr nowrap>
                <td class="totals">Total</td>
                <td class="totals">25.53</td>
                <td class="totals">44.54</td>
                <td class="totals">15.07</td>
                <td class="totals">8.52</td>
                <td class="totals">4.31</td>
                <td class="totals">0.23</td>
                <td class="totals">&nbsp;</td>
            </tr>
        </table>
    </div>


    <script type='text/javascript' src='//www.amcharts.com/wp-content/themes/amcharts/static/js/core.js?ver=20150330-03'></script>
    <script type='text/javascript' src='//www.amcharts.com/lib/3/amcharts.js?ver=20150330-03'></script>
    <script type='text/javascript' src='//www.amcharts.com/lib/3/pie.js?ver=20150330-03'></script>
    <script type='text/javascript' src='//www.amcharts.com/lib/3/serial.js?ver=20150330-03'></script>
    <script type='text/javascript' src='//www.amcharts.com/lib/3/amstock.js?ver=20150330-03'></script>
    <script type='text/javascript' src='//www.amcharts.com/lib/3/ammap_amcharts_extension.js?ver=20150330-03'></script>


    <script type='text/javascript'>
    var chartData2 = [];
    var chartData3 = [];
    var chartData4 = [];

    generateChartData();

    function generateChartData() {
    	var firstDate = new Date();
    	firstDate.setDate(firstDate.getDate() - 500);
    	firstDate.setHours(0, 0, 0, 0);

    	for (var i = 0; i < 500; i++) {
    		var newDate = new Date(firstDate);
    		newDate.setDate(newDate.getDate() + i);

    		var a1 = Math.round(Math.random() * (40 + i)) + 100 + i;
    		var b1 = Math.round(Math.random() * (1000 + i)) + 500 + i * 2;

    		var a2 = a1 * 0.8 + i;
    		var b2 = b1 * 0.8 + i;

    		var a3 = Math.round(Math.random() * (100 + i)) + 200;
    		var b3 = Math.round(Math.random() * (10000 + i)) + 600 + i * 2;

    		var a4 = Math.round(Math.random() * (100 + i)) + 200 + i;
    		var b4 = Math.round(Math.random() * (100 + i)) + 600 + i;

    		chartData1.push({
    			date: newDate,
    			value: a1,
    			volume: b1
    		});
    		chartData2.push({
    			date: newDate,
    			value: a2,
    			volume: b2
    		});
    		
    	}
    }

    var chart = AmCharts.makeChart("stockchartdiv-0", {
    	type: "stock",
        "theme": "dark",
        pathToImages: "//www.amcharts.com/lib/3/images/",

    	dataSets: [{
    			title: "Failed Streams",
                color: '#5b6392',
    			fieldMappings: [{
    				fromField: "value",
    				toField: "value"
    			}, {
    				fromField: "volume",
    				toField: "volume"
    			}],
    			dataProvider: chartData1,
    			categoryField: "date"
    		},

    		{
    			title: "Average Failed Streams",
                color: '#49b6d6',
    			fieldMappings: [{
    				fromField: "value",
    				toField: "value"
    			}, {
    				fromField: "volume",
    				toField: "volume"
    			}],
    			dataProvider: chartData2,
    			categoryField: "date"
    		}

    		
    	],

    	panels: [{

    			showCategoryAxis: false,
    			title: "Value",
    			percentHeight: 70,

    			stockGraphs: [{
    				id: "g1",

    				valueField: "value",
    				comparable: true,
    				compareField: "value",
    				balloonText: "[[title]]:<b>[[value]]</b>",
    				compareGraphBalloonText: "[[title]]:<b>[[value]]</b>"
    			}],

    			stockLegend: {
    				periodValueTextComparing: "[[percents.value.close]]%",
    				periodValueTextRegular: "[[value.close]]"
    			}
    		},

    		{
    			title: "Volume",
    			percentHeight: 30,
    			stockGraphs: [{
    				valueField: "volume",
    				type: "column",
    				showBalloon: false,
    				fillAlphas: 1
    			}],


    			stockLegend: {
    				periodValueTextRegular: "[[value.close]]"
    			}
    		}
    	],

    	chartScrollbarSettings: {
    		graph: "g1"
    	},

    	chartCursorSettings: {
    		valueBalloonsEnabled: true,
            fullWidth:true,
            cursorAlpha:0.1,
             valueLineBalloonEnabled:true,
             valueLineEnabled:true,
             valueLineAlpha:0.5
    	},

    	periodSelector: {
    		position: "left",
    		periods: [{
    			period: "MM",
    			selected: true,
    			count: 1,
    			label: "1 month"
    		}, {
    			period: "YYYY",
    			count: 1,
    			label: "1 year"
    		}, {
    			period: "YTD",
    			label: "YTD"
    		}, {
    			period: "MAX",
    			label: "MAX"
    		}]
    	},

    	dataSetSelector: {
    		position: "left",
            listHeight: 200
    	}
    });
    chart.addListener('rendered', function (event) {
    var dataProvider = chart.dataSets[0].dataProvider;
  $( ".amChartsPeriodSelector .amChartsInputField" ).datepicker({
      dateFormat: "dd-mm-yy",
      minDate: dataProvider[0].date,
      maxDate: dataProvider[dataProvider.length-1].date,
      onClose: function() {
          $( ".amChartsPeriodSelector .amChartsInputField" ).trigger('blur');
      }
  });
});


</script>

</body>
</html>
